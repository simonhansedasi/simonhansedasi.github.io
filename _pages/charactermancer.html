---
layout: archive
title: "Character-mancer"
permalink: /charactermancer/
author_profile: true
---

{% include base_path %}

<body>
    <h1>Try playing a ...</h1>
    <div id="character-container">
        ...generating character...
    </div>

    <script>
      async function loadCharacter() {
          try {
              const response = await fetch("https://char-gen.onrender.com/generate_character", {
                  method: 'POST',
                  headers: {
                      'Content-Type': 'application/json'
                  }
              });

              const characterData = await response.json();

              // Reorder stats manually
              const orderedStats = ["STR", "DEX", "CON", "INT", "WIS", "CHA"].map(stat => ({
                  stat: stat,
                  value: characterData.stats[stat]
              }));

              // Populate the HTML as before
              document.getElementById("character-container").innerHTML = `
                  <h2>${characterData.species} ${characterData.class}</h2>
                  <p><strong>Background:</strong> ${characterData.background}</p>
                  <p><strong>Character Background:</strong></p>
                  <div>${characterData.character_background}</div>
                  <h3>Stats:</h3>
                  <ul>
                      ${orderedStats.map(({stat, value}) => `<li>${stat}: ${value}</li>`).join('')}
                  </ul>
              `;
          } catch (error) {
              console.error("Error loading character:", error);
              document.getElementById("character-container").innerText = "Error loading character data.";
          }
      }

        // Load the character data on page load
        window.onload = loadCharacter;
    </script>
</body>
